<!DOCTYPE HTML>
<html>
  <head>
    <title>Coin Retrieval Robot - Yassin Abulnaga</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
  </head>
  <body class="is-preload">
    <div id="wrapper" class="fade-in">

      <!-- Header -->
      <header id="header">
        <a href="index.html" class="logo">About</a>
      </header>

      <!-- Nav -->
      <nav id="nav">
        <ul class="links">
          <li><a href="index.html">Home</a></li>
          <li><a href="resume.html">Resume</a></li>
          <li><a href="risc-cpu.html">RISC CPU</a></li>
          <li><a href="baccarat.html">FPGA Baccarat</a></li>
          <li class="active"><a href="coin-robot.html">Coin Retrieval Robot</a></li>
          <li><a href="reflow-oven.html">Oven Reflow Controller</a></li>
        </ul>
        <ul class="icons">
          <li><a href="https://www.linkedin.com/in/yassinabulnaga/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
          <li><a href="https://github.com/yassinabulnaga" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
        </ul>
      </nav>

      <!-- Main -->
      <div id="main">

        <!-- Title + Short Intro -->
        <section class="post">
          <header class="major">
            <h1>Coin Retrieval<br/>Robot</h1>
          </header>
          <p>
            A second-year mechatronics project for <strong>UBC ELEC291</strong> that retrieves metallic coins in both autonomous and manual modes.
            Manual control uses a PS2-based wireless remote; autonomous mode runs a finite state machine for search, detect, pickup, and return.
          </p>

          <!-- Hero Image (local) -->
          <p style="text-align:center;">
            <img src="images/coin-robot.jpg" alt="Coin Retrieval Robot - Front View" style="max-width: 900px; width:100%; height:auto;" />
          </p>

          <!-- Objectives -->
          <h2>Objectives</h2>
          <ul>
            <li>Detect and collect metallic coins reliably using a Colpitts oscillator–based sensor.</li>
            <li>Support <em>manual</em> PS2 joystick control and <em>autonomous</em> retrieval via an interrupt-driven FSM.</li>
            <li>Provide wireless telemetry (coin count, signal strength) and safe perimeter detection.</li>
          </ul>

          <!-- Architecture -->
          <h2>Architecture</h2>
          <p>
            The robot integrates sensing (metal + perimeter), actuation (drive motors, servo, electromagnet), computation (STM32), and a
            PIC32-based handheld remote communicating via JDY-40 modules. Memory-mapped I/O drives an LCD for on-robot feedback.
          </p>
          <p style="text-align:center;">
            <img src="https://github.com/user-attachments/assets/398fa3c0-0e3d-4983-94f3-8f0fc204dc6a" alt="Hardware Block Diagram" style="max-width: 900px; width:100%; height:auto;" />
            <br/><em>Hardware block diagram.</em>
          </p>
          <p style="text-align:center;">
            <img src="https://github.com/user-attachments/assets/5703a347-9a43-423e-9407-53d11dd29174" alt="Software Block Diagram" style="max-width: 650px; width:100%; height:auto;" />
            <br/><em>Software block diagram.</em>
          </p>

          <!-- Key Modules -->
          <h2>Key Modules</h2>

          <h3>Sensing &amp; Actuation</h3>
          <ul>
            <li><strong>Colpitts Oscillator</strong> for metal detection (frequency shift &rarr; pulse-width change).</li>
            <li><strong>Perimeter Coils</strong> read by ADC to detect boundary wire and avoid escape.</li>
            <li><strong>Electromagnet + Servo</strong> for pickup/drop; <strong>DC motors</strong> with PWM for drive.</li>
            <li><strong>LCD</strong> for coin count and status; optional <strong>speaker</strong> for signal beeps.</li>
          </ul>

          <h3>Control &amp; Firmware</h3>
          <ul>
            <li><strong>STM32</strong> main controller running an ISR-driven FSM (search &rarr; detect &rarr; align &rarr; pickup &rarr; stash).</li>
            <li><strong>PIC32</strong> in handheld remote parses PS2 and shows telemetry on 16x2 LCD.</li>
          </ul>

          <h3>Wireless Protocol</h3>
          <p><strong>JDY-40 UART</strong> link at 9600 baud.</p>
          <ul>
            <li><code>!</code> = start of command, followed by <code>[b1][b2][RX][RY][LX][LY]</code></li>
            <li><code>@</code> = data request; robot replies <code>xxxxxcc</code> where <code>xxxxx</code> is signal, <code>cc</code> is coin count</li>
          </ul>

          <!-- Results -->
          <h2>Results</h2>
          <ul>
            <li><strong>Pickup success:</strong> 90%+ across 50+ trials (manual &amp; autonomous mixed).</li>
            <li><strong>Boundary safety:</strong> reliable stop/turn on perimeter threshold &gt;~ 2.4&nbsp;V.</li>
          </ul>

          <p style="text-align:center;">
            <img src="https://github.com/user-attachments/assets/d24e52ae-01d5-483a-9630-1540a24fbfc6" alt="Oscillator no coin" style="max-width: 750px; width:100%; height:auto;" />
            <br/><em>Oscillator without coin — longer pulse width.</em>
          </p>
          <p style="text-align:center;">
            <img src="https://github.com/user-attachments/assets/ca66b617-6422-4d3e-9a66-91e76bb94fe8" alt="Oscillator with coin" style="max-width: 750px; width:100%; height:auto;" />
            <br/><em>Oscillator with coin — narrower pulse due to frequency shift.</em>
          </p>
          <p style="text-align:center;">
            <img src="https://github.com/user-attachments/assets/475e8e40-0011-497c-be48-128a9db58001" alt="ADC perimeter readings" style="max-width: 750px; width:100%; height:auto;" />
            <br/><em>ADC perimeter readings — spike near boundary wire (threshold ~2.4&nbsp;V).</em>
          </p>
          <p style="text-align:center;">
            <img src="images/jdy40-serial-log.png" alt="JDY-40 serial terminal log" style="max-width: 750px; width:100%; height:auto;" />
            <br/><em>UART exchange showing command/telemetry.</em>
          </p>

          <!-- Media -->
          <h2>Media</h2>
          <p>
            <a href="https://www.youtube.com/watch?v=KWwsTouMKVg" target="_blank" class="button large">Watch Demo on YouTube</a>
          </p>

          <!-- Future Work -->
          <h2>Future Work</h2>
          <ul>
            <li>Closed-loop alignment using encoder feedback for faster, repeatable pickups.</li>
            <li>Adaptive thresholding for perimeter and metal signal under varying floors.</li>
            <li>Packet CRC and telemetry compression for lower latency.</li>
          </ul>

          <!-- Acknowledgements -->
          <h2>Acknowledgements</h2>
          <p>Group A13, ELEC291 UBC 2025. Special thanks to Dr. Jesus Calvino-Fraga for the project framework and lab guidance.</p>
        </section>
      </div>

      <!-- Footer (contact block to match the reference page’s feel) -->
      <footer id="footer">
        <section class="split contact">
          <section class="alt"><h3>Address</h3><p>3615 W 17 Ave<br />Vancouver, BC</p></section>
          <section><h3>Phone</h3><p><a href="tel:+12362685455">+1 (236) 268-5455</a></p></section>
          <section><h3>Email</h3><p><a href="mailto:yabulnag@gmail.com">yabulnag@gmail.com</a></p></section>
          <section><h3>Social</h3>
            <ul class="icons alt">
              <li><a href="https://www.linkedin.com/in/yassinabulnaga/" class="icon brands alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
              <li><a href="https://github.com/yassinabulnaga" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
            </ul>
          </section>
        </section>
      </footer>

      <!-- Copyright -->
      <div id="copyright">
        <ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
      </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
